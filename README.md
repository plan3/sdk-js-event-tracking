# sdk-js-event-tracking

## Get up and running:

`npm install`

`grunt`

## When developing:

`./run-watch.sh`

# Documentation

This documentation is the target for the functionality of v1.

## Activity(opts)

```
opts = {
    pageId: '',     // The Id of the current page/article
    pageType: '',   // The type of page/article (page, article, application etc.)
    clientId: '',   // The providers ID, supplied by SPT.
}
```

### Activity.Event(eventType)

#### Activity.Event.pageLoad(title)

##### Required parameters

`title` - The title of the page. Will default to document.title

##### Generated objects

`object` - Where the event originated.

##### Extra parameter suggestions

`content` store the content of the submitted form.

#### Activity.Event.trackForm(formId, contentType)

##### Required parameters

`formId` - The ID of the form element, must be unique per page.

`contentType` - The type of content generated by the form (note, spt:email, other? )

##### Generated objects

`object` - Where the event originated. In this case, the form.

`result` - The result of the event. In this case, some new content from the form.

##### Extra parameter suggestions

`displayName` - The title of the form in a human readable format.

`content` store the content of the submitted form.

`inReplyTo` a string or a object that links the this form submission to a some other entity.

`url` A URL will be set automatically using document.URL, but if you are running a single page application or for some other reason want to change the URL, feel free to do so.

#### Activity.Event.trackComment(formId)

##### Required parameters

`formId` - The ID of the form element, must be unique per page.

##### Generated objects

`object` - Where the event originated. In this case, the form.

`result` - The result of the event. In this case, a new comment.

##### Extra parameter suggestions

`content` - store the content of the comment.

`inReplyTo` - a string or a link object that links this comment to a page/article or another comment.

##### Custom data suggestion

`spt:commentId` - The ID of the comment being generated by the comment form

#### Activity.Event.trackPoll(formId)

##### Required parameters

`formId` - The ID of the form element, must be unique per page.

##### Generated objects

`object` - Where the event originated. In this case, the form.

`result` - The result of the event. In this case, a reply to the poll.

##### Extra parameter suggestions

`question` - The question being asked, will be stored in displayName in primary object.

`oneOf` - A object in the `object` with `@type` 'collection' and `items` property with a array of possible answers.

`replies` - A object in the `result` with `@type` 'collection' and `items` property with a array of answers.

#### Activity.Event.trackClick(elementId, name, targetType, targetId)

##### Extra parameter suggestions

`displayName` To get a good textual representation. Can be used for both primary and secondary object.

#### Activity.Event.trackSocial(elementId, networkName)

##### Extra parameter suggestions

`displayName` To get a good textual representation.

`url` The URL to the page.

#### Activity.Event.trackMediaState(mediaId, mediaType)

##### Extra parameter suggestions

`displayName` To get a good textual representation.

`url` The URL to the page.

#### Activity.Event.trackScroll(scrollDepth)

##### Required parameters

`scrollDepth` - A value representing the relative scroll distance. Will be stored as a content parameter in the object.

##### Extra parameter suggestions

`displayName` - A human readable text for the scroll distance (e.g "Under header")

#### Activity.Event.trackExit(targetId, targetType)

##### Required parameters

`targetId` - The ID of where the user goes next.

`targetType` - The type of the target for the users exit (page, article, application)

##### Extra parameter suggestions

'target.'

#### Activity.Event.trackEvent(eventObjects)

`eventObjects` Array of event objects.

#### Activity.Event.addParameter(obj, parameters)

#### Activity.Event.addCumstomData(obj, parameters)

#### Activity.Event.send()
